(function(d){d.fn.extend({jqEasyCounter:function(h){return this.each(function(){function g(){var e=b.val(),f=e.length;if(f>=a.maxChars)e=e.substring(0,a.maxChars);if(f>a.maxChars){var i=b.scrollTop();b.val(e.substring(0,a.maxChars));b.scrollTop(i)}f>=a.maxCharsWarning?c.css({color:a.msgWarningColor}):c.css({color:a.msgFontColor});html=a.msgPlacement=="prepend"?a.msg+a.numFormat:a.numFormat+a.msg;html=html.replace("CURRENT",b.val().length);html=html.replace("MAX",a.maxChars);html=html.replace("REMAINING",
a.maxChars-b.val().length);c.html(html);c.stop().fadeTo("fast",1)}var b=d(this),a=d.extend({maxChars:100,maxCharsWarning:80,msgFontSize:"12px",msgFontColor:"#000",msgFontFamily:"Arial",msgTextAlign:"right",msgWarningColor:"#F00",msgAppendMethod:"insertAfter",msg:"Characters: ",msgPlacement:"prepend",numFormat:"CURRENT/MAX"},h);if(!(a.maxChars<=0)){var c=d('<div class="jqEasyCounterMsg">&nbsp;</div>'),j={"font-size":a.msgFontSize,"font-family":a.msgFontFamily,color:a.msgFontColor,"text-align":a.msgTextAlign,
width:b.width(),opacity:0};c.css(j);c[a.msgAppendMethod](b);b.bind("keydown keyup keypress",g).bind("focus paste",function(){setTimeout(g,10)}).bind("blur",function(){c.stop().fadeTo("fast",0);return false})}})}})})(jQuery);